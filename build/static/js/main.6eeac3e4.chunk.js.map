{"version":3,"sources":["utils/unsplash-service.js","components/menu/Menu.js","components/search/Search.js","components/header/Header.js","components/itemPhoto/ItemPhoto.js","components/downloadButton/DownloadButton.js","components/main/Main.js","components/searchResult/SearchResult.js","components/photoDetails/PhotoDetails.js","containers/App.js","actions/PageActions.js","reducers/reducers.js","store/configureStore.js","index.js","img/menu2.png","img/logo.png"],"names":["unsplash","Unsplash","applicationId","secret","callbackUrl","authenticationUrl","auth","getAuthenticationUrl","getlistPhoto","page","per_page","token","sessionStorage","getItem","setBearerToken","photos","listPhotos","then","res","json","Menu","className","src","menu2","alt","title","href","Search","props","handlerInputsValue","searchQwery","loadSearchPhotos","handlerClickSearch","onChange","ev","target","value","id","type","placeholder","aria-label","aria-describedby","to","onClick","elem","document","getElementById","Header","loadProfileUser","goLogIn","goLogOut","profileFromApp","setAccessToken","logInLogOut","profile","aria-hidden","Object","keys","length","profile_image","large","name","logo","ItemPhoto","getDateCreated","changeLikeStatus","loadPhotoDetails","map","item","index","key","urls","small","user","links","html","first_name","created_at","liked_by_user","likes","DownloadButton","funcLoadPhotos","ListPhotos","storeFromApp","loadPhotoFromApp","SearchResult","searchResult","searchPhotos","qwery","PhotoDetail","photoDetails","details","console","log","App","loadPhotos","loadPhotosToApp","storeToApp","stepLoad","componentDidMount","this","likePhotoToApp","disLikePhotoToApp","loadProfileToApp","loadPhotoDetailsToApp","logOutToApp","logInToApp","selectValueSortToApp","handlerInputsValueToApp","handlerClickSearchToApp","loadSearchPhotosToApp","profileUser","error","string","arrD","split","arrT","status","likePhoto","toJson","unlikePhoto","disLikePhoto","alert","data","search","getSearchPhotos","idPhoto","getPhoto","getPhotoDetails","code","window","location","setItem","userAuthentication","access_token","setAccessTokenUnplash","assign","clear","currentUser","getProfileCurrentUser","selectValueSort","path","render","exact","React","Component","connect","state","dispatch","response","result","catch","payload","loadPhotoAction","idx","likePhotoAction","disLikePhotoAction","loadProfileAction","loadPhotoDetailsAction","results","total","pages","total_pages","loadSearchPhotosAction","handlerInputsValueAction","initialState","photosPhotographer","profilePhotographer","loading","loaded","saveInputValue","obj","addLoadedPhotos","slice","concat","changeStatusLike","arr","findIndex","param","Reducer","action","totalPhotos","store","createStore","applyMiddleware","thunk","logger","ReactDOM","module","exports"],"mappings":"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","file":"static/js/main.6eeac3e4.chunk.js","sourcesContent":["import Unsplash, { toJson } from \"unsplash-js\";\r\n\r\n// Создаем экземпляр объекта для доступа к API\r\nconst unsplash = new Unsplash({\r\n  // Application ID из настроек вашего приложения\r\n  applicationId:\r\n    \"CxWe-Vb05mDpjLFF1V8YBgEor5sk5FiiPUFeysUrY5g\",\r\n  // Application Secret из настроек вашего приложения\r\n  secret: \"J2RjZ7yCCYZvZtPm77rm_lNzjkXlWGx9fU61Li5cfvI\",\r\n  // Полный адрес страницы авторизации приложения (Redirect URI)\r\n  // Важно: этот адрес обязательно должен быть указан в настройках приложения на сайте Unsplash API/Developers\r\n  callbackUrl: \"http://localhost:3000/callback\"\r\n});\r\n\r\n// Генерируем адрес страницы аутентификации на unsplash.com\r\n// и указываем требуемые разрешения (permissions)\r\nexport const authenticationUrl = unsplash.auth.getAuthenticationUrl([ // обработка авторизации\r\n  \"public\",\r\n  \"write_likes\"\r\n]);\r\n\r\nexport const setAccessTokenUnplash = code => { // обработка авторизации\r\n\r\n  unsplash.auth\r\n    .userAuthentication(code)\r\n    .then(res => res.json())\r\n    .then(json => {\r\n      sessionStorage.setItem(\"token\", json.access_token);\r\n    });\r\n\r\n};\r\n\r\nexport const getSearchPhotos = (searchQwery, page, per_page) => { // загрузка по поиску \r\n\r\n  return unsplash.search\r\n    .photos(searchQwery, page, per_page)\r\n    .then(res => res.json());\r\n};\r\n\r\nexport const getProfileCurrentUser = () => { // извлекаем профиль\r\n\r\n  const token = sessionStorage.getItem(\"token\");\r\n  unsplash.auth.setBearerToken(token);\r\n\r\n  return unsplash.currentUser\r\n    .profile()\r\n    .then(res => res.json());\r\n}\r\n\r\nexport const getlistPhoto = (page, per_page) => { // загрузить фото\r\n\r\n  const token = sessionStorage.getItem(\"token\");\r\n  unsplash.auth.setBearerToken(token);\r\n\r\n  return unsplash.photos\r\n    .listPhotos(page, per_page)\r\n    .then(res => res.json());\r\n};\r\n\r\nexport const getPhotoDetails = (idPhoto) => { // загрузить детали фото\r\n\r\n  return unsplash.photos\r\n    .getPhoto(idPhoto)\r\n    .then(res => res.json());\r\n};\r\n\r\nexport const likePhoto = (id, token) => { // поставить лайк\r\n  unsplash.auth.setBearerToken(token);\r\n\r\n  unsplash.photos\r\n    .likePhoto(id)\r\n    .then(toJson)\r\n    .then(json => {});\r\n};\r\n\r\nexport const disLikePhoto = (id, token) => { //убрать лайк\r\n  unsplash.auth.setBearerToken(token);\r\n\r\n  unsplash.photos\r\n    .unlikePhoto(id)\r\n    .then(toJson)\r\n    .then(json => {});\r\n};","import React from 'react';\r\n\r\nimport './Menu.css'\r\nimport menu2 from '../../img/menu2.png'\r\n\r\nconst Menu = () => {\r\n\r\n\treturn (\r\n        <div className=\"dropdown\">\r\n            <button className=\"menu2\">\r\n                <img src={menu2} alt=\"\" title=\"\" className=\"menu3\" /> \r\n            </button>\r\n            <div className=\"dropdown-content\">\r\n                <a href=\"/\">Главная</a>\r\n                <a href=\"https://unsplash.com/\">Unsplash</a>\r\n                <a href=\"http://duminslav.ru/\">Портфолио</a>\r\n            </div>\r\n        </div>\r\n\t)\r\n}\r\n\r\nexport default Menu;","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport './Search.css'\r\n\r\nconst Search = (props) => {\r\n\r\n\tconst { \r\n\t\thandlerInputsValue, \r\n\t\tsearchQwery,\r\n\t\tloadSearchPhotos, \r\n\t\thandlerClickSearch } = props;\r\n\r\n\treturn (\r\n\t\t<div className=\"poisk2\">\r\n\t        <input\r\n\t            onChange={(ev) => handlerInputsValue(ev.target.value, ev.target.id)} \r\n\t            id=\"search\"  \r\n\t        \ttype=\"text\" \r\n\t        \tclassName=\"poisk\" \r\n\t        \tplaceholder=\"Поиск по теме\"\r\n\t        \taria-label=\"Search\" aria-describedby=\"button-search\"/>\r\n        \t\r\n            <Link to=\"/search-result/\">\r\n                <div\r\n                    className=\"lupa\"\r\n                    onClick={()=>{\r\n                        let elem = document.getElementById(\"search\");\r\n                        if(elem.value !== ''){\r\n                            handlerClickSearch();\r\n                            loadSearchPhotos(searchQwery);\r\n                            elem.value = '';\r\n                        }\r\n                    }}\r\n                />\r\n            </Link>\t        \t\r\n      \t</div>\r\n\t);\r\n}\r\n\r\nexport default Search;","import React from 'react'\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nimport Menu from '../menu/Menu'\r\nimport Search from '../search/Search';\r\n\r\nimport './Header.css'\r\n\r\nimport logo from '../../img/logo.png'\r\n\r\nconst Header = (props) => {\r\n\r\n    const {\r\n        loadProfileUser,\r\n        loadSearchPhotos,\r\n        goLogIn, \r\n        goLogOut, \r\n        profileFromApp,\r\n        setAccessToken,\r\n        searchQwery,\r\n        handlerInputsValue,\r\n        handlerClickSearch } = props;\r\n    \r\n    let logInLogOut = null;\r\n    let profile = null;\r\n    \r\n    if (sessionStorage.getItem('token') === 'undefined' || // если не сохранена сессия\r\n        sessionStorage.getItem('token') === ''||  // или пустая\r\n        !sessionStorage.getItem('token')){\r\n        setAccessToken();\r\n        logInLogOut = (\r\n            <li onClick={()=>{\r\n                goLogIn();\r\n            }}>\r\n                <Link to=\"/\">\r\n                    <button className=\"comeIn\">\r\n                        Войти\r\n                    </button>\r\n                </Link>                  \r\n            </li>\r\n        );\r\n    } else {\r\n        logInLogOut = (\r\n            <li onClick={()=>goLogOut()}>\r\n                <Link to=\"/\">\r\n                    <button className=\"logOff\">\r\n                        <i className=\"fa fa-times\" aria-hidden=\"true\"></i>\r\n                    </button>\r\n                </Link>\r\n            </li>\r\n        );\r\n        //console.log(Object.keys(profileFromApp).length)\r\n\r\n    \r\n        // показывает что в профиле\r\n        if(Object.keys(profileFromApp).length === 0) {\r\n            \r\n            profile = (\r\n                <li onClick={()=>loadProfileUser()}>\r\n                    Показать профиль          \r\n                </li>\r\n            )\r\n        } else if(Object.keys(profileFromApp).length !== 0) {\r\n            profile = (\r\n                <div className=\"foto\">\t\t\t\r\n                    <img src={profileFromApp.profile_image.large} alt=\"avatar\"/>        \r\n                    <div className=\"theme3\">Welcome{' '}{profileFromApp.name}</div>\t\t\t\t\t\t\t\t\r\n                </div>\r\n            )\r\n        } else {\r\n            profile = (\r\n                <div className=\"foto\">                    \r\n                    <img src={profileFromApp.profile_image.large} alt=\"\"/>                    \r\n                    <div className=\"theme3\">{profileFromApp.name}</div>\t\t\t\t\t\t\t\t\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    return (        \r\n        <header className=\"header\">\r\n            <div className=\"header__fixed-container\">\r\n                <div className=\"header__flex-container\">\r\n                    <div className=\"logotip\">\r\n                        <img src={logo} alt=\"logo\" title=\"\" className=\"logo\" />\r\n                        <div className=\"logo-name\">\r\n                            <h1 className=\"pinball\">Moment in life</h1>\r\n                            <h2 className=\"theme\">Photo gallery</h2>\r\n                        </div>\r\n                    </div>\r\n                    <Menu />\r\n                    <Search\r\n                        loadSearchPhotos={loadSearchPhotos}\r\n                        handlerClickSearch={handlerClickSearch}\r\n                        searchQwery={searchQwery}\r\n                        handlerInputsValue={handlerInputsValue}\r\n                    />                   \r\n                    {profile}\r\n                    {logInLogOut}                 \r\n                </div>\r\n            </div>\t\t\r\n        </header>\r\n    )    \r\n}\r\n\r\nexport default Header;\r\n\r\n","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport Masonry from 'react-masonry-component';\r\n// https://www.npmjs.com/package/react-masonry-component#images-loaded-options\r\n\r\nimport './ItemPhoto.css';\r\n\r\n// const masonryOptions = {transitionDuration: 0.8};\r\n// const imagesLoadedOptions = { background: '.my-bg-image-el' }\r\n\r\nconst ItemPhoto = (props) => { // отдельное фото\r\n\r\n\tconst {\r\n\t\tphotos,\r\n\t\tgetDateCreated, \r\n\t\tchangeLikeStatus, \r\n\t\tloadPhotoDetails } = props\r\n\r\n\tlet listPhotos = null;\r\n\r\n\tif(photos.length !== 0){\r\n\t\tlistPhotos = photos.map((item, index)=>{\r\n\t\t\treturn (\t\t\t\r\n\t\t\t\t<div className=\"photo\" key={index}>\r\n\t\t\t\t\t<Link to={`/photo/${item.id}`}>                      \r\n\t\t\t\t\t\t<img \r\n\t\t\t\t\t\t\tsrc={item.urls.small} \r\n\t\t\t\t\t\t\tclassName=\"photo_item\" alt=\"\"\r\n\t\t\t\t\t\t\tonClick={()=>loadPhotoDetails(item.id)} />\t                      \r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<div className=\"photo_profile\">\r\n\t\t\t\t\t\t<img src={item.user.profile_image.small} alt=\"avatar\" className=\"avatar1\"/>\r\n\t\t\t\t\t\t<span className=\"photo_profile-link\">\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<a href={item.user.links.html}>{item.user.first_name}</a>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"photo_date\">\t\t\t\t\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{getDateCreated(item.created_at)}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\t\t\t\t\r\n\t\t\t\t\t<div className=\"photo_like\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\titem.liked_by_user ?\r\n\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\tonClick={()=>changeLikeStatus(item.id, item.liked_by_user)}\r\n\t\t\t\t\t\t\t\tclassName=\"photo_like-button like\">\r\n\t\t\t\t\t\t\t\t<i className=\"far fa-heart\"></i>{item.likes}{\" \"}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\tonClick={()=>changeLikeStatus(item.id, item.liked_by_user)}\r\n\t\t\t\t\t\t\t\tclassName=\"photo_like-button\">\r\n\t\t\t\t\t\t\t\t<i className=\"far fa-heart\"></i>{item.likes}{\" \"}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\t\t\t      \t  \t \t\t\t\r\n\t\t\t\t</div>\t\t\t\t\t\t\t\t \r\n\t        )\r\n  \t\t});\r\n\t}\r\n\t\r\n\treturn (\r\n      \t<div className=\"list_photos\">\r\n            <Masonry className='masonry' >\r\n            \t{listPhotos}\r\n            </Masonry>\r\n      \t</div>\r\n\t);\r\n}\r\n\r\nexport default ItemPhoto;\r\n","import React from 'react';\r\n\r\nimport './DownloadButton.css';\r\n\r\nconst DownloadButton = ({searchQwery, funcLoadPhotos}) => {\r\n\r\n\t// Кнопка загрузить еще для результатов поиска\r\n\tif(searchQwery){ \r\n\t\treturn(\r\n\t\t\t<button \r\n\t      \t\tclassName=\"btn-load\"  \r\n\t      \t\tonClick={()=>funcLoadPhotos(searchQwery)}>\r\n\t      \t\tЗагрузить еще\r\n\t    \t</button>\r\n\t\t);\r\n\t}\r\n\r\n\t// Кнопка загрузить еще для главной страницы\r\n\telse{ \r\n\t\treturn(\r\n\t\t\t<button \r\n\t      \t\tclassName=\"btn-load\"  \r\n\t      \t\tonClick={()=>funcLoadPhotos()}>\r\n\t      \t\tЗагрузить еще\r\n\t    \t</button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DownloadButton;","import React from 'react';\r\n\r\nimport ItemPhoto from '../itemPhoto/ItemPhoto';\r\n\r\nimport DownloadButton from '../downloadButton/DownloadButton';\r\n\r\nimport './Main.css';\r\n\r\n// главная страница с фотографиями\r\n\r\nconst ListPhotos = (props) => {\r\n\r\n    const {\r\n        storeFromApp,\r\n        loadPhotoFromApp,\r\n        changeLikeStatus,\r\n        loadPhotoDetails,\r\n        getDateCreated } = props;\r\n  \r\n    const {photos} = storeFromApp;\r\n  \r\n    let listPhotos = null;\r\n  \r\n    if(photos.length !== 0){\r\n        listPhotos = (\r\n            <ItemPhoto\r\n                photos={photos}  \r\n                getDateCreated={getDateCreated} \r\n                changeLikeStatus={changeLikeStatus} \r\n                loadPhotoDetails={loadPhotoDetails}\r\n            />\r\n        );\r\n    }\r\n      \r\n    return (        \r\n        <main className=\"main\">\r\n            <section className=\"skils-section\">\r\n                <div className=\"skils-section__fixed-container\">\r\n                    <div  className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col\">\r\n                                {listPhotos}\r\n                            </div>                                                                    \r\n                                                                                               \r\n                        </div>\r\n                    </div>    \r\n                </div>\r\n                <DownloadButton funcLoadPhotos={loadPhotoFromApp}/>\r\n            </section>                  \r\n        </main>                \r\n    );\r\n};\r\n  \r\nexport default ListPhotos;\r\n\r\n","import React from 'react';\r\nimport ItemPhoto from '../itemPhoto/ItemPhoto';\r\nimport DownloadButton from '../downloadButton/DownloadButton';\r\n\r\nimport './SearchResult.css';\r\n\r\nconst SearchResult = (props) => {\r\n\r\n    const {\r\n        storeFromApp,\r\n        loadSearchPhotos,\r\n        changeLikeStatus,\r\n        loadPhotoDetails,\r\n        getDateCreated } = props;\r\n\r\n    const {searchResult} = storeFromApp;\r\n\r\n     let listPhotos = null;\r\n \r\n\r\n    if(searchResult.searchPhotos.length !== 0){\r\n        listPhotos = (\r\n            <ItemPhoto\r\n                photos={searchResult.searchPhotos}\r\n                getDateCreated={getDateCreated} \r\n                changeLikeStatus={changeLikeStatus} \r\n                loadPhotoDetails={loadPhotoDetails}\r\n            />\r\n        );    \r\n    }\r\n    \r\n    return (\r\n        <main className=\"main\">\r\n            <section className=\"skils-section\">\r\n                <div className=\"skils-section__fixed-container\">\r\n                    <div  className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col\">         \r\n                                {listPhotos}\r\n                            </div>\r\n                        </div>                           \r\n                    </div>\r\n                </div>\r\n                <DownloadButton \r\n                    searchQwery={searchResult.qwery}\r\n                    funcLoadPhotos={loadSearchPhotos}\r\n                />\r\n            </section>        \r\n        </main> \r\n    );\r\n}\r\n\r\nexport default SearchResult;","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport './PhotoDetails.css';\r\n\r\nconst PhotoDetail = (props) => {\r\n\r\n\tconst { \r\n\r\n\t\tgetDateCreated, \r\n\t\tchangeLikeStatus, \r\n\t\r\n\t\tphotoDetails, \r\n\t\t } = props;\r\n\r\n\tlet details = null;\r\n\r\n\tif(Object.keys(photoDetails).length !== 0){\r\n\t\tconsole.log(photoDetails.id)\r\n\t\tconsole.log(photoDetails.liked_by_user)\r\n\t\tdetails = (\t\t\r\n\t\t\t<div className=\"photo1\">\r\n\t\t\t\t<Link to={`/`}>                      \r\n\t\t\t\t\t<button className=\"photoOff\">\r\n\t\t\t\t\t\t<i className=\"fa fa-times\" aria-hidden=\"true\"></i>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div className=\"photo-details\">\r\n\t\t\t\t\t<div className=\"photo_profile\">\r\n\t\t\t\t\t\t<img src={photoDetails.user.profile_image.small} alt=\"avatar\" className=\"avatar2\"/>\r\n\t\t\t\t\t\t<span className=\"photo_profile-link\">\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<a href={photoDetails.user.links.html}>{photoDetails.user.first_name}</a>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"photo_like2\">\r\n\t\t\t\t\t\t{\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tphotoDetails.liked_by_user ?\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\tonClick={()=>changeLikeStatus(photoDetails.id, photoDetails.liked_by_user)}\r\n\t\t\t\t\t\t\t\tclassName=\"photo_like-button2\">\r\n\t\t\t\t\t\t\t\tСнять лайк\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\tonClick={()=>changeLikeStatus(photoDetails.id, photoDetails.liked_by_user)}\r\n\t\t\t\t\t\t\t\tclassName=\"photo_like-button2\">\r\n\t\t\t\t\t\t\t\tПоставить лайк\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"photo_date2\">\t\t\t\t\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{getDateCreated(photoDetails.created_at)}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div className=\"photo2\">\r\n\t\t\t\t\t<img src={photoDetails.urls.small} alt=\"photography\" />\r\n\t\t\t\t</div>\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<main className=\"main\">\r\n\t\t\t<section className=\"skils-section\">\r\n\t\t\t\t<div className=\"skils-section__fixed-container\">\r\n\t\t\t\t\t<div  className=\"container\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{details}\t\t\t\t\t\t\t\t\r\n      \t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>        \r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default PhotoDetail; ","import React from 'react';\r\n\r\nimport 'bootswatch/dist/darkly/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.min.js';\r\n\r\nimport { \r\n    BrowserRouter as Router, \r\n    Route,\r\n    Switch,\r\n    Redirect} from 'react-router-dom';\r\n\r\nimport {connect} from 'react-redux';\r\n\r\nimport { // сделано\r\n    likePhoto, \r\n    disLikePhoto, \r\n    getlistPhoto, \r\n    getPhotoDetails, \r\n    getSearchPhotos, \r\n    getProfileCurrentUser, \r\n    authenticationUrl, \r\n    setAccessTokenUnplash } from \"../utils/unsplash-service\";\r\n\r\nimport { // сделано\r\n    loadPhotoAction,\r\n    loadProfileAction,\r\n    loadPhotoDetailsAction,\r\n    loadSearchPhotosAction,\r\n    logOutAction,\r\n    logInAction, \r\n    likePhotoAction, \r\n    disLikePhotoAction, \r\n    handlerInputsValueAction,\r\n    handlerClickSearchAction } from '../actions/PageActions';\r\n\r\nimport Header from '../components/header/Header';\r\nimport Main from '../components/main/Main';\r\nimport SearchResult from '../components/searchResult/SearchResult';\r\nimport PhotoDetails from '../components/photoDetails/PhotoDetails';\r\n\r\nimport './fonts.css';\r\nimport './App.css';\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n    loadPhotos = () => { // загрузить фото\r\n        const { loadPhotosToApp, storeToApp } = this.props;\r\n\r\n        const page = storeToApp.photos.length;\r\n        const per_page = storeToApp.stepLoad;\r\n\r\n        const data = getlistPhoto(page, per_page);\r\n\r\n        loadPhotosToApp(data);       \r\n    } \r\n\r\n    componentDidMount = () => {\r\n        if(!sessionStorage.getItem('token')) this.loadPhotos();\r\n    }\r\n\r\n    render(){\r\n\r\n        const {\r\n            storeToApp,\r\n            likePhotoToApp, \r\n            disLikePhotoToApp, \r\n            loadProfileToApp,\r\n            loadPhotoDetailsToApp,\r\n            logOutToApp, \r\n            logInToApp, \r\n            selectValueSortToApp,\r\n            handlerInputsValueToApp,\r\n            handlerClickSearchToApp,\r\n            loadSearchPhotosToApp } = this.props;\r\n\r\n        let {\r\n            profileUser,\r\n            photoDetails,\r\n            stepLoad,\r\n            searchResult,\r\n            searchQwery,\r\n            error } = storeToApp;\r\n\r\n        // обработка авторизации\r\n        const setAccessToken = () => {\r\n            const code = window.location.search.split('code=')[1];\r\n            if (code) {\r\n                sessionStorage.setItem('token', code);\r\n                setAccessTokenUnplash(code);\r\n                logInToApp();\r\n            }\r\n        };\r\n\r\n        // обработка авторизации\r\n        const goLogIn = () => {\r\n            window.location.assign(authenticationUrl);\r\n            //logInToApp();\r\n        };\r\n\r\n        // обработка выхода из профиля\r\n        const goLogOut = () => {\r\n            sessionStorage.clear('token');\r\n            logOutToApp();\r\n        };\r\n\r\n        // получение даты создания\r\n        const getDateCreated = (string) => {\r\n            const arrD = string.split('T');\r\n            const arrT = arrD[1].split('-');\r\n            const result = arrD[0]+\", \"+arrT[0];\r\n            return result;\r\n        };\r\n\r\n        // обработка лайков/дизлайков\r\n        const changeLikeStatus = (id, status) => {\r\n            //console.log(id, status);\r\n            if (sessionStorage.getItem('token') === 'undefined' || \r\n                sessionStorage.getItem('token') === '' || \r\n                !sessionStorage.getItem('token')){\r\n\r\n                alert('Чтобы поставить лайк войдите в свой профиль'); // \r\n            } else {\r\n                if (status === false) {\r\n                    likePhoto(id, sessionStorage.getItem('token'));\r\n                    likePhotoToApp(id, status);\r\n                } else  {\r\n                    disLikePhoto(id, sessionStorage.getItem('token'));\r\n                    disLikePhotoToApp(id, status);\r\n                }\r\n            }  \r\n        };\r\n\r\n        // загрузка фото по поисковому запросу\r\n        const loadSearchPhotos = (qwery)=>{\r\n\r\n            const page = searchResult.searchPhotos.length;\r\n            const per_page = stepLoad;\r\n\r\n            const data = getSearchPhotos(qwery, page, per_page);\r\n            loadSearchPhotosToApp(data, qwery);\r\n        };\r\n\r\n        // извлекаем профиль текущего пользователя\r\n        const loadProfileUser = () => {\r\n            const data = getProfileCurrentUser();\r\n            loadProfileToApp(data);\r\n        };\r\n\r\n        // обработчик загрузки деталей фотографии\r\n        const loadPhotoDetails = (idPhoto) => {\r\n            const data = getPhotoDetails(idPhoto);\r\n            loadPhotoDetailsToApp(data);\r\n        };\r\n\r\n\r\n        console.log(error);\r\n        //console.log(storeToApp);\r\n\r\n        return (\r\n            <Router>\r\n                <Header\r\n                    setAccessToken={setAccessToken}\r\n                    profileFromApp={profileUser}\r\n                    searchQwery={searchQwery}\r\n                    goLogIn={goLogIn}\r\n                    goLogOut={goLogOut}\r\n                    loadProfileUser={loadProfileUser}\r\n                    selectValueSort={selectValueSortToApp}\r\n                    handlerInputsValue={handlerInputsValueToApp} \r\n                    handlerClickSearch={handlerClickSearchToApp}\r\n                    loadSearchPhotos={loadSearchPhotos}\r\n                    loadPhotoFromApp={this.loadPhotos}                           \r\n                />\r\n                <Switch>\r\n                    <Route \r\n                        path=\"/search-result/\"\r\n                        render={()=>(\r\n                            <SearchResult\r\n                                storeFromApp={storeToApp}\r\n                                loadSearchPhotos={loadSearchPhotos} \r\n                                handlerClickSearch={handlerClickSearchToApp}\r\n                                loadPhotoDetails={loadPhotoDetails}\r\n                                getDateCreated={getDateCreated}\r\n                                changeLikeStatus={changeLikeStatus}\r\n                            />\r\n                        )}\r\n                    />\r\n                    <Route exact\r\n                        path=\"/photo/:id\" \r\n                        render={()=>(\r\n                            <PhotoDetails\r\n                                photoDetails={photoDetails}\r\n                                getDateCreated={getDateCreated} \r\n                                changeLikeStatus={changeLikeStatus}\r\n                            />\r\n                        )}\r\n                    />\r\n                    <Route\r\n                        path=\"/\"\r\n                        render={() => (\r\n                            <Main \r\n                                storeFromApp={storeToApp}\r\n                                loadPhotoFromApp={this.loadPhotos}\r\n                                loadPhotoDetails={loadPhotoDetails}\r\n                                getDateCreated={getDateCreated}\r\n                                changeLikeStatus={changeLikeStatus}\r\n                            />\r\n                        )}\r\n                    />                    \r\n                    <Redirect to='/' />\r\n                </Switch>\r\n            </Router>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return ({ storeToApp: state })\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return ({\r\n        loadPhotosToApp: (data) => {dispatch(loadPhotoAction(data))},\r\n\r\n        likePhotoToApp: (idx, status) => {dispatch(likePhotoAction(idx, status))},\r\n\r\n        disLikePhotoToApp: (idx, status) => {dispatch(disLikePhotoAction(idx, status))},\r\n\r\n        loadProfileToApp: (data) => dispatch(loadProfileAction(data)),\r\n\r\n        loadPhotoDetailsToApp: (data) => dispatch(loadPhotoDetailsAction(data)),\r\n\r\n        loadSearchPhotosToApp: (data, qwery) => dispatch(loadSearchPhotosAction(data, qwery)),\r\n\r\n        logOutToApp: () => dispatch(logOutAction()),\r\n\r\n        logInToApp: () => dispatch(logInAction()),\r\n\r\n        handlerInputsValueToApp: (value, id) => dispatch(handlerInputsValueAction(value, id)),\r\n\r\n        handlerClickSearchToApp: () => dispatch(handlerClickSearchAction())\r\n    })\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(App);\r\n","const loadPhotoAction = (data) => {\r\n    return dispatch => {\r\n        data\r\n            .then(response => {\r\n                dispatch({\r\n                    type: 'LOAD_PHOTOS_SUCCESS_ACTION',\r\n                    result: response,\r\n                    name: 'listPhotos'\r\n                });\r\n            })\r\n            .catch(error => {\r\n                 dispatch({\r\n                    type: 'LOAD_FAILURE_ACTION',\r\n                    payload: error\r\n                });\r\n            });\r\n    }\r\n};\r\n\r\n\r\n\r\nconst loadSearchPhotosAction = (data, qwery) => {\r\n    return dispatch => {\r\n        data\r\n            .then(response => {\r\n                dispatch({\r\n                    type: 'LOAD_SEARCH_PHOTOS_ACTION',\r\n                    result: response.results,\r\n                    total: response.total,\r\n                    pages: response.total_pages,\r\n                    qwery: qwery,\r\n                    name: 'searchPhotos'\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: 'LOAD_FAILURE_ACTION',\r\n                    payload: error\r\n                });\r\n            });\r\n    }\r\n};\r\n\r\nconst loadProfileAction = (data) => {\r\n    return dispatch => {\r\n      data\r\n          .then(response => {\r\n              dispatch({\r\n                  type: 'LOAD_PROFILE_SUCCESS_ACTION',\r\n                  result: response\r\n              });\r\n          })\r\n          .catch(error => {\r\n              dispatch({\r\n                  type: 'LOAD_FAILURE_ACTION',\r\n                  payload: error\r\n              });\r\n          });\r\n  }\r\n};\r\n\r\n\r\nconst loadPhotoDetailsAction = (data) => {\r\n    return dispatch => {\r\n        data\r\n            .then(response => {\r\n                dispatch({\r\n                    type: 'LOAD_DETAILS_SUCCESS_ACTION',\r\n                    result: response\r\n                });\r\n            })\r\n            .catch(error => {\r\n                dispatch({\r\n                    type: 'LOAD_FAILURE_ACTION',\r\n                    payload: error\r\n                });\r\n            });\r\n    }\r\n}\r\n  \r\nconst likePhotoAction = (id, status) => {\r\n    return {\r\n        type: 'LIKE_PHOTO_ACTION',\r\n        id, status\r\n    }\r\n};\r\n\r\nconst disLikePhotoAction = (id, status) => {\r\n    return {\r\n        type: 'DISLIKE_PHOTO_ACTION',\r\n        id, status\r\n    }\r\n};\r\n\r\nconst logOutAction = () => {\r\n    return {\r\n        type: 'LOG_OUT_ACTION'\r\n    }\r\n};\r\n\r\nconst logInAction = () => {\r\n    return {\r\n        type: 'LOG_IN_ACTION'\r\n    }\r\n};\r\n\r\n\r\nconst handlerInputsValueAction = (value, id) => {\r\n    return {\r\n        type: 'HANDLER_INPUTS_VALUE_ACTION',\r\n        value, id\r\n    }\r\n};\r\n\r\nconst handlerClickSearchAction = () => {\r\n    return {\r\n        type: 'HANDLER_CLICK_SEARCH_ACTION'\r\n    }\r\n};\r\n\r\n\r\nexport {\r\n    loadPhotoAction,\r\n    loadSearchPhotosAction, \r\n    loadProfileAction,\r\n    loadPhotoDetailsAction,\r\n    logOutAction,\r\n    logInAction, \r\n    likePhotoAction, \r\n    disLikePhotoAction,\r\n    handlerInputsValueAction,\r\n    handlerClickSearchAction,\r\n}","const initialState = {\r\n\tphotos: [], // фото\r\n\tstepLoad: 10, // фото на странице\r\n\tphotosPhotographer: [], // фото фотографа\r\n\tsearchResult: { // результаты поиск\r\n\t\tsearchPhotos: [] // найденные фото\r\n\t},\r\n\tprofileUser: {}, // профиль пользователя\r\n\tprofilePhotographer: {}, // профиль фотографа\r\n\tphotoDetails: {}, // детали фото\r\n\tsearchQwery: '', // введенный поиск\r\n\tloading: false,\r\n\tloaded: false,\r\n\terror: null\r\n}\r\n\r\n// сохранение изменённых полей input\r\nconst saveInputValue = (state, name, value) => {\r\n\t\r\n\tconst obj = state.profileUser;\r\n\r\n\tfor(var key in obj){\r\n\t\tif(key === name) obj[key] = value;\r\n\t}\r\n\r\n\treturn obj;\r\n}\r\n\t\t\r\n// добавление в state новых  фотографий\r\nconst addLoadedPhotos = (state, photos, name) => {\r\n\tlet arr;\r\n\tif(name === 'photosPhotographer') arr = state.photosPhotographer.slice();\r\n\telse if(name === 'searchPhotos') arr = state.searchResult.searchPhotos.slice();\r\n\telse arr = state.photos.slice(); // name === 'listPhotos'\r\n\t//объединяем массивы\r\n\tconst newArray = arr.concat(photos);\r\n\treturn newArray;\r\n}\r\n\r\n// изменение кол-ва лайков/дизлайков и статуса liked_by_user\r\nconst changeStatusLike = (state, idx, status) => {\r\n\tconst arr = state.photos.slice();\r\n\r\n\t\r\n\tconst index = arr.findIndex(param => param.id === idx);\r\n\r\n\tarr[index].liked_by_user = !status;\r\n\r\n\tif(status) arr[index].likes -= 1;\r\n\telse arr[index].likes += 1;\r\n\r\n\treturn arr;\r\n}\r\n\r\nconst Reducer = (state = initialState, action) => {\r\n\tswitch(action.type){\r\n\r\n\t    case 'LOAD_REQUESTED_ACTION': // загрузить запрошенное действие\r\n\t      \treturn {\r\n\t\t        ...state,\r\n\t\t        loading: true,\r\n\t\t        loaded: false\r\n\t      \t};\r\n\r\n\t\tcase 'LOAD_FAILURE_ACTION': // отказ\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tloaded: true,\r\n\t\t\t\terror: action.payload\r\n\t\t\t};\t\r\n\r\n\t\tcase 'LOAD_PHOTOS_SUCCESS_ACTION': // загрузить фото\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tphotos: addLoadedPhotos(state, action.result, action.name),\r\n\t\t        loading: false,\r\n\t\t        loaded: true,\r\n\t\t        error: null\r\n\t\t\t}\t\r\n\r\n\t\tcase 'LOAD_SEARCH_PHOTOS_ACTION': // загрузить фото по поиску\r\n\t\t\treturn{ \r\n\t\t\t\t...state,\r\n\t\t\t\tsearchResult: {\r\n\t\t\t\t\tsearchPhotos: addLoadedPhotos(state, action.result, action.name),\r\n                    totalPhotos: action.total,\r\n                    pages: action.pages,\r\n        \t\t\tqwery: action.qwery\r\n\t\t\t\t},\r\n\t\t\t\tsearchQwery: '',\r\n\t\t        loading: false,\r\n\t\t        loaded: true,\r\n\t\t        error: null\r\n\t\t\t}\t\t\r\n\r\n\t\tcase 'LOAD_PROFILE_SUCCESS_ACTION': //загрузка профиля\r\n\t\t\treturn{ \r\n\t\t\t\t...state,\r\n\t\t\t\tprofileUser: action.result,\r\n\t\t        loading: false,\r\n\t\t        loaded: true,\r\n\t\t        error: null\r\n\t\t\t}\t\r\n\r\n\t\tcase 'LOAD_DETAILS_SUCCESS_ACTION': // загрузка деталей фото\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tphotoDetails: action.result,\r\n\t\t        loading: false,\r\n\t\t        loaded: true,\r\n\t\t        error: null\r\n\t\t\t}\r\n\r\n\t\tcase 'LIKE_PHOTO_ACTION': // лайк\r\n\t\t\treturn{ \r\n\t\t\t\t...state,\r\n\t\t\t\tphotos: changeStatusLike(state, action.id, action.status)\r\n\t\t\t};\r\n\r\n\t\tcase 'DISLIKE_PHOTO_ACTION': //дизлайк\r\n\t\t\treturn{ \r\n\t\t\t\t...state,\r\n\t\t\t\tphotos: changeStatusLike(state, action.id, action.status)\r\n\t\t\t};\r\n\r\n\t\tcase 'LOG_OUT_ACTION': // выйти из профиля\r\n\t\t\treturn{ \r\n\t\t\t\t...state,\r\n\t\t\t};\r\n\r\n\t\tcase 'LOG_IN_ACTION': // войти в профиль\r\n\t\t\treturn{ \r\n\t\t\t\t...state,\r\n\t\t\t};\r\n\r\n\t\tcase 'HANDLER_INPUTS_VALUE_ACTION': // проверка на ввод в поиск\r\n\t\t\tif(action.id === 'search'){\r\n\t\t\t\treturn{ \r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tsearchQwery: action.value\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\treturn{ \r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tprofileUser: saveInputValue(state, action.id, action.value)\r\n\t\t\t\t};\r\n\t\t\t};\r\n\r\n\t\tcase 'HANDLER_CLICK_SEARCH_ACTION': // нажатие кнопки поиск\r\n\t\t\treturn{ \r\n\t\t\t\t...state,\r\n\t\t\t\tsearchResult: {\r\n\t\t\t\t\tsearchPhotos: [],\r\n\t\t\t        totalPhotos: 0,\r\n\t\t\t        pages: 0,\r\n        \t\t\tqwery: ''\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport default Reducer;","import { createStore, applyMiddleware } from 'redux'\r\nimport Reducer from '../reducers/reducers';\r\nimport logger from 'redux-logger'\r\nimport thunk from 'redux-thunk'\r\n\r\n\r\nconst store = createStore(Reducer, applyMiddleware(thunk, logger));\r\nexport default store;","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { Provider } from 'react-redux'\nimport App from './containers/App'\nimport  store from './store/configureStore'\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n)\n\n\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAARCAYAAADDjbwNAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABlSURBVDhP7dLBDQAhCERRpAW0/47UPtAa2IyhApO5mH0Xwulfpsw5w92FqbUmyo4AGooaGxolIvLl0rx074XKGCPWWvly1FpF2RFA45/3tQfn3XuPvXe+HGfe7AiceZtZvjxmJh/2qiti/Vs9mAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAtCAYAAAC53tuhAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACUSURBVFhHY/z//z8DMeBFURJRCiX65jFCmXgBE5SmOxi1mG5g1GK6gQGzmOgChFjwc6Y7UQaOxjHdwKjFdAMjz2JwAVLWP5moTN9VmEtU64IYMBrHdAOjFtMNjDyLiW6BeG49T5TC7d6Go10YrGDUYrqBUYvpBhh/zHAjqmBgT99JtdYHCIzGMd3AqMV0AyPNYgYGAPYUHx9WI9OCAAAAAElFTkSuQmCC\""],"sourceRoot":""}